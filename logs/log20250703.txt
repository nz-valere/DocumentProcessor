2025-07-03 08:45:02 [INF] Application starting up
2025-07-03 08:45:02 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-03 08:45:03 [DBG] Hosting starting
2025-07-03 08:45:03 [DBG] Middleware loaded
2025-07-03 08:45:03 [DBG] Middleware loaded. Script "/_framework/aspnetcore-browser-refresh.js" ("16527" B).
2025-07-03 08:45:03 [DBG] Middleware loaded. Script "/_framework/blazor-hotreload.js" ("799" B).
2025-07-03 08:45:03 [DBG] Middleware loaded: DOTNET_MODIFIABLE_ASSEMBLIES="debug", __ASPNETCORE_BROWSER_TOOLS="true"
2025-07-03 08:45:03 [INF] Now listening on: "http://localhost:5190"
2025-07-03 08:45:03 [INF] Now listening on: "http://0.0.0.0:5190"
2025-07-03 08:45:03 [DBG] Loaded hosting startup assembly "DocumentProcessor.API"
2025-07-03 08:45:03 [DBG] Loaded hosting startup assembly "Microsoft.WebTools.ApiEndpointDiscovery"
2025-07-03 08:45:03 [DBG] Loaded hosting startup assembly "Microsoft.AspNetCore.Watch.BrowserRefresh"
2025-07-03 08:45:03 [DBG] Loaded hosting startup assembly "Microsoft.WebTools.BrowserLink.Net"
2025-07-03 08:45:03 [INF] Application started. Press Ctrl+C to shut down.
2025-07-03 08:45:03 [INF] Hosting environment: "Development"
2025-07-03 08:45:03 [INF] Content root path: "C:\Users\WJKT8718\Documents\OrangeDocumentProcessor\DocumentProcessor.API"
2025-07-03 08:45:03 [DBG] Hosting started
2025-07-03 08:49:04 [DBG] Connection id ""0HNDQ0OAMJQ4F"" accepted.
2025-07-03 08:49:04 [DBG] Connection id ""0HNDQ0OAMJQ4F"" started.
2025-07-03 08:49:04 [DBG] Connection id ""0HNDQ0OAMJQ4G"" accepted.
2025-07-03 08:49:04 [DBG] Connection id ""0HNDQ0OAMJQ4G"" started.
2025-07-03 08:49:04 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5190""""/swagger/index.html""" - null null
2025-07-03 08:49:05 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-03 08:49:05 [DBG] No candidates found for the request path '"/swagger/index.html"'
2025-07-03 08:49:05 [DBG] Request did not match any endpoints
2025-07-03 08:49:05 [DBG] Response markup is scheduled to include Browser Link script injection.
2025-07-03 08:49:05 [DBG] Response markup is scheduled to include browser refresh script injection.
2025-07-03 08:49:05 [DBG] Response markup was updated to include Browser Link script injection.
2025-07-03 08:49:05 [DBG] Response markup was updated to include browser refresh script injection.
2025-07-03 08:49:05 [DBG] Connection id ""0HNDQ0OAMJQ4G"" completed keep alive response.
2025-07-03 08:49:05 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5190""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 448.2963ms
2025-07-03 08:49:05 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5190""""/_framework/aspnetcore-browser-refresh.js""" - null null
2025-07-03 08:49:05 [DBG] Script injected: "/_framework/aspnetcore-browser-refresh.js"
2025-07-03 08:49:05 [DBG] Connection id ""0HNDQ0OAMJQ4G"" completed keep alive response.
2025-07-03 08:49:05 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5190""""/_framework/aspnetcore-browser-refresh.js""" - 200 16527 "application/javascript; charset=utf-8" 7.2501ms
2025-07-03 08:49:05 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5190""""/_vs/browserLink""" - null null
2025-07-03 08:49:05 [DBG] Connection id ""0HNDQ0OAMJQ4G"" completed keep alive response.
2025-07-03 08:49:05 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5190""""/_vs/browserLink""" - 200 null "text/javascript; charset=UTF-8" 47.3137ms
2025-07-03 08:49:05 [INF] Request starting "HTTP/1.1" "GET" "http"://"localhost:5190""""/swagger/v1/swagger.json""" - null null
2025-07-03 08:49:05 [DBG] No candidates found for the request path '"/swagger/v1/swagger.json"'
2025-07-03 08:49:05 [DBG] Request did not match any endpoints
2025-07-03 08:49:05 [DBG] Connection id ""0HNDQ0OAMJQ4G"" completed keep alive response.
2025-07-03 08:49:05 [INF] Request finished "HTTP/1.1" "GET" "http"://"localhost:5190""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 29.7373ms
2025-07-03 08:50:21 [DBG] Connection id ""0HNDQ0OAMJQ4F"" received FIN.
2025-07-03 08:50:21 [DBG] Connection id ""0HNDQ0OAMJQ4F"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-07-03 08:50:21 [DBG] Connection id ""0HNDQ0OAMJQ4F"" disconnecting.
2025-07-03 08:50:21 [DBG] Connection id ""0HNDQ0OAMJQ4F"" stopped.
2025-07-03 08:51:01 [INF] Application is shutting down...
2025-07-03 08:51:01 [DBG] Hosting stopping
2025-07-03 08:51:01 [DBG] Connection id ""0HNDQ0OAMJQ4G"" disconnecting.
2025-07-03 08:51:01 [DBG] Connection id ""0HNDQ0OAMJQ4G"" stopped.
2025-07-03 08:51:01 [DBG] Connection id ""0HNDQ0OAMJQ4G"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-07-03 08:51:01 [DBG] Hosting stopped
2025-07-03 11:18:23 [INF] Application starting up
2025-07-03 11:18:23 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-03 11:18:23 [DBG] Hosting starting
2025-07-03 11:18:23 [INF] Now listening on: "http://localhost:5190"
2025-07-03 11:18:23 [INF] Now listening on: "http://0.0.0.0:5190"
2025-07-03 11:18:23 [DBG] Loaded hosting startup assembly "DocumentProcessor.API"
2025-07-03 11:18:23 [INF] Application started. Press Ctrl+C to shut down.
2025-07-03 11:18:23 [INF] Hosting environment: "Development"
2025-07-03 11:18:23 [INF] Content root path: "C:\Users\czar\Documents\Stage\model\DocumentProcessor"
2025-07-03 11:18:23 [DBG] Hosting started
2025-07-03 11:19:33 [DBG] Connection id ""0HNDQ3CDJ84AC"" accepted.
2025-07-03 11:19:33 [DBG] Connection id ""0HNDQ3CDJ84AC"" started.
2025-07-03 11:19:33 [INF] Request starting "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Ocr/extractText""" - "multipart/form-data; boundary=----WebKitFormBoundaryFPLX1P7KMHJAaD3G" 3650184
2025-07-03 11:19:34 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-03 11:19:34 [DBG] Connection id ""0HNDQ3CDJ84AC"" paused.
2025-07-03 11:19:34 [DBG] 1 candidate(s) found for the request path '"/api/Ocr/extractText"'
2025-07-03 11:19:34 [DBG] Endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"' with route pattern '"api/Ocr/extractText"' is valid for the request path '"/api/Ocr/extractText"'
2025-07-03 11:19:34 [DBG] Request matched endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 11:19:34 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-03 11:19:34 [WRN] Failed to determine the https port for redirect.
2025-07-03 11:19:34 [INF] Executing endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 11:19:34 [INF] Route matched with "{action = \"ExtractTextFromFile\", controller = \"Ocr\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExtractTextFromFile(Microsoft.AspNetCore.Http.IFormFile)" on controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API").
2025-07-03 11:19:34 [DBG] Execution plan of "authorization" filters (in the following order): ["None"]
2025-07-03 11:19:34 [DBG] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-03 11:19:34 [DBG] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-03 11:19:34 [DBG] Execution plan of "exception" filters (in the following order): ["None"]
2025-07-03 11:19:34 [DBG] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-03 11:19:34 [DBG] Executing controller factory for controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API")
2025-07-03 11:19:34 [INF] Initializing Tesseract engine with tessdata path: "C:\Users\czar\Documents\Stage\model\DocumentProcessor\bin\Debug\net8.0\tessdata" and model: "fra"
2025-07-03 11:19:34 [INF] Tesseract engine initialized successfully
2025-07-03 11:19:34 [INF] AzureOcrService (Image Analysis SDK) initialized successfully.
2025-07-03 11:19:34 [DBG] Executed controller factory for controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API")
2025-07-03 11:19:34 [DBG] Connection id ""0HNDQ3CDJ84AC"", Request id ""0HNDQ3CDJ84AC:00000001"": started reading request body.
2025-07-03 11:19:34 [DBG] Connection id ""0HNDQ3CDJ84AC"" resumed.
2025-07-03 11:19:34 [DBG] Connection id ""0HNDQ3CDJ84AC"", Request id ""0HNDQ3CDJ84AC:00000001"": done reading request body.
2025-07-03 11:19:34 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 11:19:34 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' using the name '"file"' in request data ...
2025-07-03 11:19:34 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 11:19:34 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 11:19:34 [DBG] Attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 11:19:34 [DBG] Done attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 11:19:34 [INF] Processing file '"6876.pdf"' using intelligent OCR selection.
2025-07-03 11:19:34 [DBG] Normalized file name: '"6876"' from original: '"6876.pdf"'
2025-07-03 11:19:34 [INF] Could not detect document type for file '"6876.pdf"', returning Unknown
2025-07-03 11:19:34 [INF] Detected document type: Unknown for file: "6876.pdf"
2025-07-03 11:19:34 [DBG] Document type Unknown requires Azure OCR: True
2025-07-03 11:19:34 [INF] Using "Azure OCR" for document type: Unknown
2025-07-03 11:19:34 [INF] Starting Azure OCR processing for file: "6876.pdf" (3649997 bytes)
2025-07-03 11:19:37 [ERR] An error occurred during Azure Image Analysis.
Azure.RequestFailedException: Image format is not valid.
Status: 400 (Bad Request)
ErrorCode: InvalidRequest

Content:
{"error":{"code":"InvalidRequest","message":"Image format is not valid.","innererror":{"code":"InvalidImageFormat","message":"Input data is not a valid image."}}}

Headers:
request-id: 5f6665d6-e320-4f08-bf11-a2aa424b6a24
x-ms-request-id: 5f6665d6-e320-4f08-bf11-a2aa424b6a24
x-ms-error-code: REDACTED
api-supported-versions: REDACTED
x-envoy-upstream-service-time: REDACTED
CSP-Billing-Usage: REDACTED
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Thu, 03 Jul 2025 10:19:38 GMT
Content-Length: 162
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at ImageOcrMicroservice.Services.AzureOcrService.ExtractTextAsync(Stream fileStream) in C:\Users\czar\Documents\Stage\model\DocumentProcessor\Services\AzureOcrService.cs:line 51
2025-07-03 11:19:37 [WRN] Azure OCR failed or returned no text for "6876.pdf". Falling back to Tesseract.
2025-07-03 11:19:37 [INF] Starting Tesseract OCR processing (3649997 bytes)
2025-07-03 11:19:37 [INF] Starting PDF OCR processing for 3649997 bytes
2025-07-03 11:19:47 [INF] PDF processed successfully. Processing 6 pages
2025-07-03 11:19:47 [DBG] Processing page 1/6
2025-07-03 11:19:48 [DBG] Starting OCR processing on image data of 4871940 bytes
2025-07-03 11:19:50 [INF] OCR completed successfully. Confidence: 0.82%, Text length: 1084 characters
2025-07-03 11:19:50 [WRN] Low OCR confidence detected: 0.82%. Text quality may be poor
2025-07-03 11:19:50 [DBG] Processing page 2/6
2025-07-03 11:19:51 [DBG] Starting OCR processing on image data of 5514733 bytes
2025-07-03 11:19:53 [INF] OCR completed successfully. Confidence: 0.71%, Text length: 2822 characters
2025-07-03 11:19:53 [WRN] Low OCR confidence detected: 0.71%. Text quality may be poor
2025-07-03 11:19:53 [DBG] Processing page 3/6
2025-07-03 11:19:55 [DBG] Starting OCR processing on image data of 3585188 bytes
2025-07-03 11:19:56 [INF] OCR completed successfully. Confidence: 0.90%, Text length: 1754 characters
2025-07-03 11:19:56 [WRN] Low OCR confidence detected: 0.90%. Text quality may be poor
2025-07-03 11:19:56 [DBG] Processing page 4/6
2025-07-03 11:19:58 [DBG] Starting OCR processing on image data of 6956401 bytes
2025-07-03 11:20:00 [INF] OCR completed successfully. Confidence: 0.57%, Text length: 984 characters
2025-07-03 11:20:00 [WRN] Low OCR confidence detected: 0.57%. Text quality may be poor
2025-07-03 11:20:00 [DBG] Processing page 5/6
2025-07-03 11:20:04 [DBG] Starting OCR processing on image data of 8111565 bytes
2025-07-03 11:20:04 [INF] OCR completed successfully. Confidence: 0.71%, Text length: 40 characters
2025-07-03 11:20:04 [WRN] Low OCR confidence detected: 0.71%. Text quality may be poor
2025-07-03 11:20:04 [DBG] Processing page 6/6
2025-07-03 11:20:05 [DBG] Starting OCR processing on image data of 2165648 bytes
2025-07-03 11:20:06 [INF] OCR completed successfully. Confidence: 0.37%, Text length: 116 characters
2025-07-03 11:20:06 [WRN] Low OCR confidence detected: 0.37%. Text quality may be poor
2025-07-03 11:20:06 [INF] PDF processing completed. Successfully processed 6/6 pages
2025-07-03 11:20:06 [INF] Successfully extracted text from file '"6876.pdf"'.
2025-07-03 11:20:06 [INF] Executing "FileContentResult", sending file with download name '"6876_extracted_text.txt"' ...
2025-07-03 11:20:06 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-07-03 11:20:06 [INF] Executed action "ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)" in 32304.5131ms
2025-07-03 11:20:06 [INF] Executed endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 11:20:06 [DBG] Connection id ""0HNDQ3CDJ84AC"" completed keep alive response.
2025-07-03 11:20:06 [DBG] Disposing OcrService and Tesseract engine
2025-07-03 11:20:06 [INF] Request finished "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Ocr/extractText""" - 200 7111 "text/plain" 32385.5171ms
2025-07-03 11:22:17 [DBG] Connection id ""0HNDQ3CDJ84AC"" disconnecting.
2025-07-03 11:22:17 [DBG] Connection id ""0HNDQ3CDJ84AC"" stopped.
2025-07-03 11:22:17 [DBG] Connection id ""0HNDQ3CDJ84AC"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-07-03 11:22:30 [INF] Application is shutting down...
2025-07-03 11:22:30 [DBG] Hosting stopping
2025-07-03 11:22:30 [DBG] Hosting stopped
2025-07-03 11:22:34 [INF] Application starting up
2025-07-03 11:22:34 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-03 11:22:34 [DBG] Hosting starting
2025-07-03 11:22:34 [INF] Now listening on: "http://localhost:5190"
2025-07-03 11:22:34 [INF] Now listening on: "http://0.0.0.0:5190"
2025-07-03 11:22:34 [DBG] Loaded hosting startup assembly "DocumentProcessor.API"
2025-07-03 11:22:34 [INF] Application started. Press Ctrl+C to shut down.
2025-07-03 11:22:34 [INF] Hosting environment: "Development"
2025-07-03 11:22:34 [INF] Content root path: "C:\Users\czar\Documents\Stage\model\DocumentProcessor"
2025-07-03 11:22:34 [DBG] Hosting started
2025-07-03 11:47:52 [DBG] Connection id ""0HNDQ3S7Q2EG0"" accepted.
2025-07-03 11:47:52 [DBG] Connection id ""0HNDQ3S7Q2EG0"" started.
2025-07-03 11:47:52 [INF] Request starting "HTTP/1.1" "POST" "http"://"localhost:5190""""/api/Metadata/extract""" - "multipart/form-data; boundary=----formdata-undici-055911138168" 942742
2025-07-03 11:47:52 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-03 11:47:52 [DBG] 1 candidate(s) found for the request path '"/api/Metadata/extract"'
2025-07-03 11:47:52 [DBG] Endpoint '"ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)"' with route pattern '"api/Metadata/extract"' is valid for the request path '"/api/Metadata/extract"'
2025-07-03 11:47:52 [DBG] Request matched endpoint '"ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)"'
2025-07-03 11:47:52 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-03 11:47:52 [WRN] Failed to determine the https port for redirect.
2025-07-03 11:47:52 [INF] Executing endpoint '"ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)"'
2025-07-03 11:47:52 [INF] Route matched with "{action = \"ExtractMetadataFromFile\", controller = \"Metadata\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExtractMetadataFromFile(Microsoft.AspNetCore.Http.IFormFile, System.String)" on controller "ImageOcrMicroservice.Controllers.MetadataController" ("DocumentProcessor.API").
2025-07-03 11:47:52 [DBG] Execution plan of "authorization" filters (in the following order): ["None"]
2025-07-03 11:47:52 [DBG] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-03 11:47:52 [DBG] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-03 11:47:52 [DBG] Execution plan of "exception" filters (in the following order): ["None"]
2025-07-03 11:47:52 [DBG] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-03 11:47:52 [DBG] Executing controller factory for controller "ImageOcrMicroservice.Controllers.MetadataController" ("DocumentProcessor.API")
2025-07-03 11:47:52 [INF] Initializing Tesseract engine with tessdata path: "C:\Users\czar\Documents\Stage\model\DocumentProcessor\bin\Debug\net8.0\tessdata" and model: "fra"
2025-07-03 11:47:52 [INF] Tesseract engine initialized successfully
2025-07-03 11:47:52 [INF] AzureOcrService (Image Analysis SDK) initialized successfully.
2025-07-03 11:47:52 [DBG] Executed controller factory for controller "ImageOcrMicroservice.Controllers.MetadataController" ("DocumentProcessor.API")
2025-07-03 11:47:52 [DBG] Connection id ""0HNDQ3S7Q2EG0"", Request id ""0HNDQ3S7Q2EG0:00000001"": started reading request body.
2025-07-03 11:47:52 [DBG] Connection id ""0HNDQ3S7Q2EG0"", Request id ""0HNDQ3S7Q2EG0:00000001"": done reading request body.
2025-07-03 11:47:52 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 11:47:52 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' using the name '"file"' in request data ...
2025-07-03 11:47:52 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 11:47:52 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 11:47:52 [DBG] Attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 11:47:52 [DBG] Done attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 11:47:52 [DBG] Attempting to bind parameter '"documentType"' of type '"System.String"' ...
2025-07-03 11:47:52 [DBG] Attempting to bind parameter '"documentType"' of type '"System.String"' using the name '""' in request data ...
2025-07-03 11:47:52 [DBG] Could not find a value in the request with name '""' for binding parameter '"documentType"' of type '"System.String"'.
2025-07-03 11:47:52 [DBG] Done attempting to bind parameter '"documentType"' of type '"System.String"'.
2025-07-03 11:47:52 [DBG] Done attempting to bind parameter '"documentType"' of type '"System.String"'.
2025-07-03 11:47:52 [DBG] Attempting to validate the bound parameter '"documentType"' of type '"System.String"' ...
2025-07-03 11:47:52 [DBG] Done attempting to validate the bound parameter '"documentType"' of type '"System.String"'.
2025-07-03 11:47:52 [INF] Step 1: Starting intelligent OCR process for file '"FORMULAIREAGREGEOM_20250529122131.pdf"'.
2025-07-03 11:47:52 [DBG] Normalized file name: '"formulaireagregeom20250529122131"' from original: '"FORMULAIREAGREGEOM_20250529122131.pdf"'
2025-07-03 11:47:52 [INF] Detected document type 'FormulaireAgregeOM' for file '"FORMULAIREAGREGEOM_20250529122131.pdf"'
2025-07-03 11:47:52 [INF] Detected document type: FormulaireAgregeOM for file: "FORMULAIREAGREGEOM_20250529122131.pdf"
2025-07-03 11:47:52 [DBG] Document type FormulaireAgregeOM requires Azure OCR: True
2025-07-03 11:47:52 [INF] Using "Azure OCR" for document type: FormulaireAgregeOM
2025-07-03 11:47:52 [INF] Starting Azure OCR processing for file: "FORMULAIREAGREGEOM_20250529122131.pdf" (942540 bytes)
2025-07-03 11:47:54 [ERR] An error occurred during Azure Image Analysis.
Azure.RequestFailedException: Image format is not valid.
Status: 400 (Bad Request)
ErrorCode: InvalidRequest

Content:
{"error":{"code":"InvalidRequest","message":"Image format is not valid.","innererror":{"code":"InvalidImageFormat","message":"Input data is not a valid image."}}}

Headers:
request-id: 6d184452-6582-43d6-a33c-38545e9829be
x-ms-request-id: 6d184452-6582-43d6-a33c-38545e9829be
x-ms-error-code: REDACTED
api-supported-versions: REDACTED
x-envoy-upstream-service-time: REDACTED
CSP-Billing-Usage: REDACTED
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Thu, 03 Jul 2025 10:47:55 GMT
Content-Length: 162
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at ImageOcrMicroservice.Services.AzureOcrService.ExtractTextAsync(Stream fileStream) in C:\Users\czar\Documents\Stage\model\DocumentProcessor\Services\AzureOcrService.cs:line 51
2025-07-03 11:47:55 [WRN] Azure OCR failed or returned no text for "FORMULAIREAGREGEOM_20250529122131.pdf". Falling back to Tesseract.
2025-07-03 11:47:55 [INF] Starting Tesseract OCR processing (942540 bytes)
2025-07-03 11:47:55 [INF] Starting PDF OCR processing for 942540 bytes
2025-07-03 11:47:57 [INF] PDF processed successfully. Processing 2 pages
2025-07-03 11:47:57 [DBG] Processing page 1/2
2025-07-03 11:47:58 [DBG] Starting OCR processing on image data of 3961667 bytes
2025-07-03 11:48:00 [INF] OCR completed successfully. Confidence: 0.66%, Text length: 1029 characters
2025-07-03 11:48:00 [WRN] Low OCR confidence detected: 0.66%. Text quality may be poor
2025-07-03 11:48:00 [DBG] Processing page 2/2
2025-07-03 11:48:01 [DBG] Starting OCR processing on image data of 2338997 bytes
2025-07-03 11:48:03 [INF] OCR completed successfully. Confidence: 0.79%, Text length: 2749 characters
2025-07-03 11:48:03 [WRN] Low OCR confidence detected: 0.79%. Text quality may be poor
2025-07-03 11:48:03 [INF] PDF processing completed. Successfully processed 2/2 pages
2025-07-03 11:48:03 [INF] Step 2: Starting metadata extraction from OCR text for file '"FORMULAIREAGREGEOM_20250529122131.pdf"'.
2025-07-03 11:48:03 [INF] Starting metadata extraction from raw text for file '"FORMULAIREAGREGEOM_20250529122131.pdf"'.
2025-07-03 11:48:03 [DBG] Normalized file name: '"formulaireagregeom20250529122131"' from original: '"FORMULAIREAGREGEOM_20250529122131.pdf"'
2025-07-03 11:48:03 [INF] Detected document type 'FormulaireAgregeOM' for file '"FORMULAIREAGREGEOM_20250529122131.pdf"'
2025-07-03 11:48:03 [INF] Detected document type: FormulaireAgregeOM for file '"FORMULAIREAGREGEOM_20250529122131.pdf"'
2025-07-03 11:48:04 [DBG] Full metadata extraction completed. Found 0 NIU(s), 0 RCCM(s), 0 Date(s), 0 Name(s), 0 Registration(s), 0 Delivered Date(s), 0 Duration(s), 0 Tax Attestation(s), 0 Tax Center(s), 0 Tax System(s), 0 ACFE Reference(s), 0 Location/Date(s), 0 Quarter(s), 0 Phone(s), 0 Email(s), 0 Regime(s).
2025-07-03 11:48:04 [INF] Filtered metadata for document type 'FormulaireAgregeOM'. Allowed fields: ["DocumentName, DocumentType, BusinessNames, RegistrationNumbers, CompanyAddresses, LegalForms, CapitalAmounts, ActivityCodes, PhoneNumbers, EmailAddresses, RawText"]
2025-07-03 11:48:04 [WRN] Validation failed for document type FormulaireAgregeOM: "Critical field 'BusinessNames' is missing or empty, Critical field 'RegistrationNumbers' is missing or empty"
2025-07-03 11:48:04 [INF] Metadata extraction completed for '"FORMULAIREAGREGEOM_20250529122131.pdf"'. Document type: FormulaireAgregeOM, Extracted fields: 4, Is filtered: True
2025-07-03 11:48:04 [DBG] Document type FormulaireAgregeOM requires Azure OCR: True
2025-07-03 11:48:04 [INF] Metadata extraction completed for '"FORMULAIREAGREGEOM_20250529122131.pdf"'. Document Type: "Formulaire Agrégé OM", OCR Service Used: "Azure Document Analysis", Total Fields Extracted: 4, NIU Numbers: 0, RCCM Numbers: 0, Business Names: 0, Tax Attestations: 0, Phone Numbers: 0, Email Addresses: 0, Validation Valid: False
2025-07-03 11:48:04 [WRN] Validation issues for '"FORMULAIREAGREGEOM_20250529122131.pdf"': "Critical field 'BusinessNames' is missing or empty, Critical field 'RegistrationNumbers' is missing or empty"
2025-07-03 11:48:04 [INF] Step 4: Returning structured metadata for file '"FORMULAIREAGREGEOM_20250529122131.pdf"'.
2025-07-03 11:48:04 [DBG] Document type FormulaireAgregeOM requires Azure OCR: True
2025-07-03 11:48:04 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-03 11:48:04 [DBG] No information found on request to perform content negotiation.
2025-07-03 11:48:04 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-03 11:48:04 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-03 11:48:04 [DBG] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-07-03 11:48:04 [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`4[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], DocumentProcessor.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-07-03 11:48:04 [INF] Executed action "ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)" in 11469.2589ms
2025-07-03 11:48:04 [INF] Executed endpoint '"ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)"'
2025-07-03 11:48:04 [DBG] Connection id ""0HNDQ3S7Q2EG0"" completed keep alive response.
2025-07-03 11:48:04 [DBG] Disposing OcrService and Tesseract engine
2025-07-03 11:48:04 [INF] Request finished "HTTP/1.1" "POST" "http"://"localhost:5190""""/api/Metadata/extract""" - 200 null "application/json; charset=utf-8" 11559.3012ms
2025-07-03 11:48:08 [DBG] Connection id ""0HNDQ3S7Q2EG0"" received FIN.
2025-07-03 11:48:08 [DBG] Connection id ""0HNDQ3S7Q2EG0"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-07-03 11:48:08 [DBG] Connection id ""0HNDQ3S7Q2EG0"" disconnecting.
2025-07-03 11:48:08 [DBG] Connection id ""0HNDQ3S7Q2EG0"" stopped.
2025-07-03 12:20:16 [DBG] Connection id ""0HNDQ3S7Q2EG1"" accepted.
2025-07-03 12:20:16 [DBG] Connection id ""0HNDQ3S7Q2EG1"" started.
2025-07-03 12:20:16 [INF] Request starting "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Metadata/extract""" - "multipart/form-data; boundary=----formdata-undici-072754618559" 3591828
2025-07-03 12:20:16 [DBG] 1 candidate(s) found for the request path '"/api/Metadata/extract"'
2025-07-03 12:20:16 [DBG] Endpoint '"ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)"' with route pattern '"api/Metadata/extract"' is valid for the request path '"/api/Metadata/extract"'
2025-07-03 12:20:16 [DBG] Request matched endpoint '"ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)"'
2025-07-03 12:20:16 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-03 12:20:16 [INF] Executing endpoint '"ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)"'
2025-07-03 12:20:16 [INF] Route matched with "{action = \"ExtractMetadataFromFile\", controller = \"Metadata\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExtractMetadataFromFile(Microsoft.AspNetCore.Http.IFormFile, System.String)" on controller "ImageOcrMicroservice.Controllers.MetadataController" ("DocumentProcessor.API").
2025-07-03 12:20:16 [DBG] Execution plan of "authorization" filters (in the following order): ["None"]
2025-07-03 12:20:16 [DBG] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-03 12:20:16 [DBG] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-03 12:20:16 [DBG] Execution plan of "exception" filters (in the following order): ["None"]
2025-07-03 12:20:16 [DBG] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-03 12:20:16 [DBG] Executing controller factory for controller "ImageOcrMicroservice.Controllers.MetadataController" ("DocumentProcessor.API")
2025-07-03 12:20:16 [INF] Initializing Tesseract engine with tessdata path: "C:\Users\czar\Documents\Stage\model\DocumentProcessor\bin\Debug\net8.0\tessdata" and model: "fra"
2025-07-03 12:20:16 [INF] Tesseract engine initialized successfully
2025-07-03 12:20:16 [INF] AzureOcrService (Image Analysis SDK) initialized successfully.
2025-07-03 12:20:16 [DBG] Executed controller factory for controller "ImageOcrMicroservice.Controllers.MetadataController" ("DocumentProcessor.API")
2025-07-03 12:20:16 [DBG] Connection id ""0HNDQ3S7Q2EG1"", Request id ""0HNDQ3S7Q2EG1:00000001"": started reading request body.
2025-07-03 12:20:16 [DBG] Connection id ""0HNDQ3S7Q2EG1"", Request id ""0HNDQ3S7Q2EG1:00000001"": done reading request body.
2025-07-03 12:20:16 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 12:20:16 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' using the name '"file"' in request data ...
2025-07-03 12:20:16 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 12:20:16 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 12:20:16 [DBG] Attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 12:20:16 [DBG] Done attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 12:20:16 [DBG] Attempting to bind parameter '"documentType"' of type '"System.String"' ...
2025-07-03 12:20:16 [DBG] Attempting to bind parameter '"documentType"' of type '"System.String"' using the name '""' in request data ...
2025-07-03 12:20:16 [DBG] Could not find a value in the request with name '""' for binding parameter '"documentType"' of type '"System.String"'.
2025-07-03 12:20:16 [DBG] Done attempting to bind parameter '"documentType"' of type '"System.String"'.
2025-07-03 12:20:16 [DBG] Done attempting to bind parameter '"documentType"' of type '"System.String"'.
2025-07-03 12:20:16 [DBG] Attempting to validate the bound parameter '"documentType"' of type '"System.String"' ...
2025-07-03 12:20:16 [DBG] Done attempting to validate the bound parameter '"documentType"' of type '"System.String"'.
2025-07-03 12:20:16 [INF] Step 1: Starting intelligent OCR process for file '"6876.jpg"'.
2025-07-03 12:20:16 [DBG] Normalized file name: '"6876"' from original: '"6876.jpg"'
2025-07-03 12:20:16 [INF] Could not detect document type for file '"6876.jpg"', returning Unknown
2025-07-03 12:20:16 [INF] Detected document type: Unknown for file: "6876.jpg"
2025-07-03 12:20:16 [DBG] Document type Unknown requires Azure OCR: True
2025-07-03 12:20:16 [INF] Using "Azure OCR" for document type: Unknown
2025-07-03 12:20:16 [INF] Starting Azure OCR processing for file: "6876.jpg" (3591660 bytes)
2025-07-03 12:20:20 [INF] Azure Image Analysis completed. Found 1 text blocks.
2025-07-03 12:20:20 [INF] Azure OCR completed successfully for "6876.jpg". Text length: 1100 characters
2025-07-03 12:20:20 [INF] Step 2: Starting metadata extraction from OCR text for file '"6876.jpg"'.
2025-07-03 12:20:20 [INF] Starting metadata extraction from raw text for file '"6876.jpg"'.
2025-07-03 12:20:20 [DBG] Normalized file name: '"6876"' from original: '"6876.jpg"'
2025-07-03 12:20:20 [INF] Could not detect document type for file '"6876.jpg"', returning Unknown
2025-07-03 12:20:20 [INF] Detected document type: Unknown for file '"6876.jpg"'
2025-07-03 12:20:20 [DBG] Full metadata extraction completed. Found 0 NIU(s), 0 RCCM(s), 3 Date(s), 0 Name(s), 0 Registration(s), 0 Delivered Date(s), 0 Duration(s), 0 Tax Attestation(s), 0 Tax Center(s), 0 Tax System(s), 0 ACFE Reference(s), 0 Location/Date(s), 0 Quarter(s), 0 Phone(s), 0 Email(s), 0 Regime(s).
2025-07-03 12:20:20 [INF] Document type is Unknown, returning all metadata fields.
2025-07-03 12:20:20 [INF] Metadata extraction completed for '"6876.jpg"'. Document type: Unknown, Extracted fields: 4, Is filtered: False
2025-07-03 12:20:20 [DBG] Document type Unknown requires Azure OCR: True
2025-07-03 12:20:20 [INF] Metadata extraction completed for '"6876.jpg"'. Document Type: "Document Type Unknown", OCR Service Used: "Azure Document Analysis", Total Fields Extracted: 4, NIU Numbers: 0, RCCM Numbers: 0, Business Names: 0, Tax Attestations: 0, Phone Numbers: 0, Email Addresses: 0, Validation Valid: True
2025-07-03 12:20:20 [INF] Step 4: Returning structured metadata for file '"6876.jpg"'.
2025-07-03 12:20:20 [DBG] Document type Unknown requires Azure OCR: True
2025-07-03 12:20:20 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-03 12:20:20 [DBG] No information found on request to perform content negotiation.
2025-07-03 12:20:20 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-03 12:20:20 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-03 12:20:20 [DBG] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-07-03 12:20:20 [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`4[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], DocumentProcessor.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-07-03 12:20:20 [INF] Executed action "ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)" in 4037.0719ms
2025-07-03 12:20:20 [INF] Executed endpoint '"ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)"'
2025-07-03 12:20:20 [DBG] Connection id ""0HNDQ3S7Q2EG1"" completed keep alive response.
2025-07-03 12:20:20 [DBG] Disposing OcrService and Tesseract engine
2025-07-03 12:20:20 [INF] Request finished "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Metadata/extract""" - 200 null "application/json; charset=utf-8" 4106.8412ms
2025-07-03 12:20:24 [DBG] Connection id ""0HNDQ3S7Q2EG1"" received FIN.
2025-07-03 12:20:24 [DBG] Connection id ""0HNDQ3S7Q2EG1"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-07-03 12:20:24 [DBG] Connection id ""0HNDQ3S7Q2EG1"" disconnecting.
2025-07-03 12:20:24 [DBG] Connection id ""0HNDQ3S7Q2EG1"" stopped.
2025-07-03 12:20:56 [DBG] Connection id ""0HNDQ3S7Q2EG2"" accepted.
2025-07-03 12:20:56 [DBG] Connection id ""0HNDQ3S7Q2EG2"" started.
2025-07-03 12:20:56 [INF] Request starting "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Metadata/extract""" - "multipart/form-data; boundary=----formdata-undici-049351269597" 3591828
2025-07-03 12:20:56 [DBG] 1 candidate(s) found for the request path '"/api/Metadata/extract"'
2025-07-03 12:20:56 [DBG] Endpoint '"ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)"' with route pattern '"api/Metadata/extract"' is valid for the request path '"/api/Metadata/extract"'
2025-07-03 12:20:56 [DBG] Request matched endpoint '"ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)"'
2025-07-03 12:20:56 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-03 12:20:56 [INF] Executing endpoint '"ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)"'
2025-07-03 12:20:56 [INF] Route matched with "{action = \"ExtractMetadataFromFile\", controller = \"Metadata\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExtractMetadataFromFile(Microsoft.AspNetCore.Http.IFormFile, System.String)" on controller "ImageOcrMicroservice.Controllers.MetadataController" ("DocumentProcessor.API").
2025-07-03 12:20:56 [DBG] Execution plan of "authorization" filters (in the following order): ["None"]
2025-07-03 12:20:56 [DBG] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-03 12:20:56 [DBG] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-03 12:20:56 [DBG] Execution plan of "exception" filters (in the following order): ["None"]
2025-07-03 12:20:56 [DBG] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-03 12:20:56 [DBG] Executing controller factory for controller "ImageOcrMicroservice.Controllers.MetadataController" ("DocumentProcessor.API")
2025-07-03 12:20:56 [INF] Initializing Tesseract engine with tessdata path: "C:\Users\czar\Documents\Stage\model\DocumentProcessor\bin\Debug\net8.0\tessdata" and model: "fra"
2025-07-03 12:20:56 [DBG] Connection id ""0HNDQ3S7Q2EG2"" paused.
2025-07-03 12:20:56 [INF] Tesseract engine initialized successfully
2025-07-03 12:20:56 [INF] AzureOcrService (Image Analysis SDK) initialized successfully.
2025-07-03 12:20:56 [DBG] Executed controller factory for controller "ImageOcrMicroservice.Controllers.MetadataController" ("DocumentProcessor.API")
2025-07-03 12:20:56 [DBG] Connection id ""0HNDQ3S7Q2EG2"", Request id ""0HNDQ3S7Q2EG2:00000001"": started reading request body.
2025-07-03 12:20:56 [DBG] Connection id ""0HNDQ3S7Q2EG2"" resumed.
2025-07-03 12:20:56 [DBG] Connection id ""0HNDQ3S7Q2EG2"", Request id ""0HNDQ3S7Q2EG2:00000001"": done reading request body.
2025-07-03 12:20:56 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 12:20:56 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' using the name '"file"' in request data ...
2025-07-03 12:20:56 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 12:20:56 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 12:20:56 [DBG] Attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 12:20:56 [DBG] Done attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 12:20:56 [DBG] Attempting to bind parameter '"documentType"' of type '"System.String"' ...
2025-07-03 12:20:56 [DBG] Attempting to bind parameter '"documentType"' of type '"System.String"' using the name '""' in request data ...
2025-07-03 12:20:56 [DBG] Could not find a value in the request with name '""' for binding parameter '"documentType"' of type '"System.String"'.
2025-07-03 12:20:56 [DBG] Done attempting to bind parameter '"documentType"' of type '"System.String"'.
2025-07-03 12:20:56 [DBG] Done attempting to bind parameter '"documentType"' of type '"System.String"'.
2025-07-03 12:20:56 [DBG] Attempting to validate the bound parameter '"documentType"' of type '"System.String"' ...
2025-07-03 12:20:56 [DBG] Done attempting to validate the bound parameter '"documentType"' of type '"System.String"'.
2025-07-03 12:20:56 [INF] Step 1: Starting intelligent OCR process for file '"6876.jpg"'.
2025-07-03 12:20:56 [DBG] Normalized file name: '"6876"' from original: '"6876.jpg"'
2025-07-03 12:20:56 [INF] Could not detect document type for file '"6876.jpg"', returning Unknown
2025-07-03 12:20:56 [INF] Detected document type: Unknown for file: "6876.jpg"
2025-07-03 12:20:56 [DBG] Document type Unknown requires Azure OCR: True
2025-07-03 12:20:56 [INF] Using "Azure OCR" for document type: Unknown
2025-07-03 12:20:56 [INF] Starting Azure OCR processing for file: "6876.jpg" (3591660 bytes)
2025-07-03 12:20:58 [INF] Azure Image Analysis completed. Found 1 text blocks.
2025-07-03 12:20:58 [INF] Azure OCR completed successfully for "6876.jpg". Text length: 1100 characters
2025-07-03 12:20:58 [INF] Step 2: Starting metadata extraction from OCR text for file '"6876.jpg"'.
2025-07-03 12:20:58 [INF] Starting metadata extraction from raw text for file '"6876.jpg"'.
2025-07-03 12:20:58 [DBG] Normalized file name: '"6876"' from original: '"6876.jpg"'
2025-07-03 12:20:58 [INF] Could not detect document type for file '"6876.jpg"', returning Unknown
2025-07-03 12:20:58 [INF] Detected document type: Unknown for file '"6876.jpg"'
2025-07-03 12:20:58 [DBG] Full metadata extraction completed. Found 0 NIU(s), 0 RCCM(s), 3 Date(s), 0 Name(s), 0 Registration(s), 0 Delivered Date(s), 0 Duration(s), 0 Tax Attestation(s), 0 Tax Center(s), 0 Tax System(s), 0 ACFE Reference(s), 0 Location/Date(s), 0 Quarter(s), 0 Phone(s), 0 Email(s), 0 Regime(s).
2025-07-03 12:20:58 [INF] Document type is Unknown, returning all metadata fields.
2025-07-03 12:20:58 [INF] Metadata extraction completed for '"6876.jpg"'. Document type: Unknown, Extracted fields: 4, Is filtered: False
2025-07-03 12:20:58 [DBG] Document type Unknown requires Azure OCR: True
2025-07-03 12:20:58 [INF] Metadata extraction completed for '"6876.jpg"'. Document Type: "Document Type Unknown", OCR Service Used: "Azure Document Analysis", Total Fields Extracted: 4, NIU Numbers: 0, RCCM Numbers: 0, Business Names: 0, Tax Attestations: 0, Phone Numbers: 0, Email Addresses: 0, Validation Valid: True
2025-07-03 12:20:58 [INF] Step 4: Returning structured metadata for file '"6876.jpg"'.
2025-07-03 12:20:58 [DBG] Document type Unknown requires Azure OCR: True
2025-07-03 12:20:58 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter", "Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-07-03 12:20:58 [DBG] No information found on request to perform content negotiation.
2025-07-03 12:20:58 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-07-03 12:20:58 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-07-03 12:20:58 [DBG] Selected output formatter '"Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"' and content type '"application/json"' to write the response.
2025-07-03 12:20:58 [INF] Executing "OkObjectResult", writing value of type '"<>f__AnonymousType0`4[[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.Dictionary`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Object, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[<>f__AnonymousType1`2[[System.Boolean, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.Collections.Generic.List`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]], DocumentProcessor.API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]"'.
2025-07-03 12:20:58 [INF] Executed action "ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)" in 1784.3064ms
2025-07-03 12:20:58 [INF] Executed endpoint '"ImageOcrMicroservice.Controllers.MetadataController.ExtractMetadataFromFile (DocumentProcessor.API)"'
2025-07-03 12:20:58 [DBG] Connection id ""0HNDQ3S7Q2EG2"" completed keep alive response.
2025-07-03 12:20:58 [DBG] Disposing OcrService and Tesseract engine
2025-07-03 12:20:58 [INF] Request finished "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Metadata/extract""" - 200 null "application/json; charset=utf-8" 1865.3578ms
2025-07-03 12:21:02 [DBG] Connection id ""0HNDQ3S7Q2EG2"" received FIN.
2025-07-03 12:21:02 [DBG] Connection id ""0HNDQ3S7Q2EG2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-07-03 12:21:02 [DBG] Connection id ""0HNDQ3S7Q2EG2"" disconnecting.
2025-07-03 12:21:02 [DBG] Connection id ""0HNDQ3S7Q2EG2"" stopped.
2025-07-03 12:21:35 [DBG] Connection id ""0HNDQ3S7Q2EG3"" accepted.
2025-07-03 12:21:35 [DBG] Connection id ""0HNDQ3S7Q2EG3"" started.
2025-07-03 12:21:35 [INF] Request starting "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/v1/swagger.json""" - null null
2025-07-03 12:21:35 [DBG] No candidates found for the request path '"/swagger/v1/swagger.json"'
2025-07-03 12:21:35 [DBG] Request did not match any endpoints
2025-07-03 12:21:35 [DBG] Connection id ""0HNDQ3S7Q2EG3"" completed keep alive response.
2025-07-03 12:21:35 [INF] Request finished "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 145.2534ms
2025-07-03 12:22:04 [DBG] Connection id ""0HNDQ3S7Q2EG3"" received FIN.
2025-07-03 12:22:04 [DBG] Connection id ""0HNDQ3S7Q2EG3"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-07-03 12:22:04 [DBG] Connection id ""0HNDQ3S7Q2EG3"" disconnecting.
2025-07-03 12:22:04 [DBG] Connection id ""0HNDQ3S7Q2EG3"" stopped.
2025-07-03 14:06:25 [DBG] Connection id ""0HNDQ3S7Q2EG4"" accepted.
2025-07-03 14:06:25 [DBG] Connection id ""0HNDQ3S7Q2EG4"" started.
2025-07-03 14:06:25 [DBG] Connection id ""0HNDQ3S7Q2EG5"" accepted.
2025-07-03 14:06:25 [INF] Request starting "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/index.html""" - null null
2025-07-03 14:06:25 [DBG] Connection id ""0HNDQ3S7Q2EG5"" started.
2025-07-03 14:06:25 [DBG] No candidates found for the request path '"/swagger/index.html"'
2025-07-03 14:06:25 [DBG] Request did not match any endpoints
2025-07-03 14:06:25 [DBG] Connection id ""0HNDQ3S7Q2EG4"" completed keep alive response.
2025-07-03 14:06:25 [INF] Request finished "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/index.html""" - 200 null "text/html;charset=utf-8" 42.0279ms
2025-07-03 14:06:25 [INF] Request starting "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/swagger-ui.css""" - null null
2025-07-03 14:06:25 [DBG] No candidates found for the request path '"/swagger/swagger-ui.css"'
2025-07-03 14:06:25 [DBG] Request did not match any endpoints
2025-07-03 14:06:25 [INF] Request starting "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/swagger-ui-bundle.js""" - null null
2025-07-03 14:06:25 [DBG] No candidates found for the request path '"/swagger/swagger-ui-bundle.js"'
2025-07-03 14:06:25 [DBG] Request did not match any endpoints
2025-07-03 14:06:25 [DBG] Connection id ""0HNDQ3S7Q2EG6"" accepted.
2025-07-03 14:06:25 [DBG] Connection id ""0HNDQ3S7Q2EG6"" started.
2025-07-03 14:06:25 [INF] Request starting "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/swagger-ui-standalone-preset.js""" - null null
2025-07-03 14:06:25 [DBG] No candidates found for the request path '"/swagger/swagger-ui-standalone-preset.js"'
2025-07-03 14:06:25 [DBG] Request did not match any endpoints
2025-07-03 14:06:26 [INF] Sending file. Request path: '"/swagger-ui.css"'. Physical path: '"N/A"'
2025-07-03 14:06:26 [INF] Sending file. Request path: '"/swagger-ui-standalone-preset.js"'. Physical path: '"N/A"'
2025-07-03 14:06:26 [DBG] Connection id ""0HNDQ3S7Q2EG4"" completed keep alive response.
2025-07-03 14:06:26 [DBG] Connection id ""0HNDQ3S7Q2EG6"" completed keep alive response.
2025-07-03 14:06:26 [INF] Request finished "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/swagger-ui.css""" - 200 152034 "text/css" 205.0268ms
2025-07-03 14:06:26 [INF] Request finished "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/swagger-ui-standalone-preset.js""" - 200 230280 "text/javascript" 196.2618ms
2025-07-03 14:06:26 [INF] Sending file. Request path: '"/swagger-ui-bundle.js"'. Physical path: '"N/A"'
2025-07-03 14:06:26 [DBG] Connection id ""0HNDQ3S7Q2EG5"" completed keep alive response.
2025-07-03 14:06:26 [INF] Request finished "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/swagger-ui-bundle.js""" - 200 1456926 "text/javascript" 532.034ms
2025-07-03 14:06:26 [INF] Request starting "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/v1/swagger.json""" - null null
2025-07-03 14:06:26 [INF] Request starting "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/favicon-32x32.png""" - null null
2025-07-03 14:06:26 [DBG] No candidates found for the request path '"/swagger/v1/swagger.json"'
2025-07-03 14:06:26 [DBG] No candidates found for the request path '"/swagger/favicon-32x32.png"'
2025-07-03 14:06:26 [DBG] Request did not match any endpoints
2025-07-03 14:06:26 [DBG] Request did not match any endpoints
2025-07-03 14:06:26 [INF] Sending file. Request path: '"/favicon-32x32.png"'. Physical path: '"N/A"'
2025-07-03 14:06:26 [DBG] Connection id ""0HNDQ3S7Q2EG6"" completed keep alive response.
2025-07-03 14:06:26 [INF] Request finished "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/favicon-32x32.png""" - 200 628 "image/png" 7.4265ms
2025-07-03 14:06:26 [DBG] Connection id ""0HNDQ3S7Q2EG5"" completed keep alive response.
2025-07-03 14:06:26 [INF] Request finished "HTTP/1.1" "GET" "http"://"172.16.16.86:5190""""/swagger/v1/swagger.json""" - 200 null "application/json;charset=utf-8" 13.1276ms
2025-07-03 14:07:05 [INF] Request starting "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Ocr/extractText""" - "multipart/form-data; boundary=----WebKitFormBoundaryJYVBa8Ant3fcDzet" 3650184
2025-07-03 14:07:05 [DBG] 1 candidate(s) found for the request path '"/api/Ocr/extractText"'
2025-07-03 14:07:05 [DBG] Endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"' with route pattern '"api/Ocr/extractText"' is valid for the request path '"/api/Ocr/extractText"'
2025-07-03 14:07:05 [DBG] Request matched endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 14:07:05 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-03 14:07:05 [INF] Executing endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 14:07:05 [INF] Route matched with "{action = \"ExtractTextFromFile\", controller = \"Ocr\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExtractTextFromFile(Microsoft.AspNetCore.Http.IFormFile)" on controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API").
2025-07-03 14:07:05 [DBG] Execution plan of "authorization" filters (in the following order): ["None"]
2025-07-03 14:07:05 [DBG] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-03 14:07:05 [DBG] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-03 14:07:05 [DBG] Execution plan of "exception" filters (in the following order): ["None"]
2025-07-03 14:07:05 [DBG] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-03 14:07:05 [DBG] Executing controller factory for controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API")
2025-07-03 14:07:05 [INF] Initializing Tesseract engine with tessdata path: "C:\Users\czar\Documents\Stage\model\DocumentProcessor\bin\Debug\net8.0\tessdata" and model: "fra"
2025-07-03 14:07:05 [DBG] Connection id ""0HNDQ3S7Q2EG5"" paused.
2025-07-03 14:07:05 [INF] Tesseract engine initialized successfully
2025-07-03 14:07:05 [INF] AzureOcrService (Image Analysis SDK) initialized successfully.
2025-07-03 14:07:05 [DBG] Executed controller factory for controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API")
2025-07-03 14:07:05 [DBG] Connection id ""0HNDQ3S7Q2EG5"", Request id ""0HNDQ3S7Q2EG5:00000003"": started reading request body.
2025-07-03 14:07:05 [DBG] Connection id ""0HNDQ3S7Q2EG5"" resumed.
2025-07-03 14:07:05 [DBG] Connection id ""0HNDQ3S7Q2EG5"", Request id ""0HNDQ3S7Q2EG5:00000003"": done reading request body.
2025-07-03 14:07:05 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 14:07:06 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' using the name '"file"' in request data ...
2025-07-03 14:07:06 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 14:07:06 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 14:07:06 [DBG] Attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 14:07:06 [DBG] Done attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 14:07:06 [INF] Processing file '"6876.pdf"' using intelligent OCR selection.
2025-07-03 14:07:06 [DBG] Normalized file name: '"6876"' from original: '"6876.pdf"'
2025-07-03 14:07:06 [INF] Could not detect document type for file '"6876.pdf"', returning Unknown
2025-07-03 14:07:06 [INF] Detected document type: Unknown for file: "6876.pdf"
2025-07-03 14:07:06 [DBG] Document type Unknown requires Azure OCR: True
2025-07-03 14:07:06 [INF] Using "Azure OCR" for document type: Unknown
2025-07-03 14:07:06 [INF] Starting Azure OCR processing for file: "6876.pdf" (3649997 bytes)
2025-07-03 14:07:08 [ERR] An error occurred during Azure Image Analysis.
Azure.RequestFailedException: Image format is not valid.
Status: 400 (Bad Request)
ErrorCode: InvalidRequest

Content:
{"error":{"code":"InvalidRequest","message":"Image format is not valid.","innererror":{"code":"InvalidImageFormat","message":"Input data is not a valid image."}}}

Headers:
request-id: 5a32aa0a-19a8-414a-8df6-94262f4d39f2
x-ms-request-id: 5a32aa0a-19a8-414a-8df6-94262f4d39f2
x-ms-error-code: REDACTED
api-supported-versions: REDACTED
x-envoy-upstream-service-time: REDACTED
CSP-Billing-Usage: REDACTED
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Thu, 03 Jul 2025 13:07:09 GMT
Content-Length: 162
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at ImageOcrMicroservice.Services.AzureOcrService.ExtractTextAsync(Stream fileStream) in C:\Users\czar\Documents\Stage\model\DocumentProcessor\Services\AzureOcrService.cs:line 51
2025-07-03 14:07:08 [WRN] Azure OCR failed or returned no text for "6876.pdf". Falling back to Tesseract.
2025-07-03 14:07:08 [INF] Starting Tesseract OCR processing (3649997 bytes)
2025-07-03 14:07:08 [INF] Starting PDF OCR processing for 3649997 bytes
2025-07-03 14:07:18 [INF] PDF processed successfully. Processing 6 pages
2025-07-03 14:07:18 [DBG] Processing page 1/6
2025-07-03 14:07:19 [DBG] Starting OCR processing on image data of 4871940 bytes
2025-07-03 14:07:21 [INF] OCR completed successfully. Confidence: 0.82%, Text length: 1084 characters
2025-07-03 14:07:21 [WRN] Low OCR confidence detected: 0.82%. Text quality may be poor
2025-07-03 14:07:21 [DBG] Processing page 2/6
2025-07-03 14:07:22 [DBG] Starting OCR processing on image data of 5514733 bytes
2025-07-03 14:07:25 [INF] OCR completed successfully. Confidence: 0.71%, Text length: 2822 characters
2025-07-03 14:07:25 [WRN] Low OCR confidence detected: 0.71%. Text quality may be poor
2025-07-03 14:07:25 [DBG] Processing page 3/6
2025-07-03 14:07:26 [DBG] Starting OCR processing on image data of 3585188 bytes
2025-07-03 14:07:28 [INF] OCR completed successfully. Confidence: 0.90%, Text length: 1754 characters
2025-07-03 14:07:28 [WRN] Low OCR confidence detected: 0.90%. Text quality may be poor
2025-07-03 14:07:28 [DBG] Processing page 4/6
2025-07-03 14:07:30 [DBG] Starting OCR processing on image data of 6956401 bytes
2025-07-03 14:07:32 [INF] OCR completed successfully. Confidence: 0.57%, Text length: 984 characters
2025-07-03 14:07:32 [WRN] Low OCR confidence detected: 0.57%. Text quality may be poor
2025-07-03 14:07:32 [DBG] Processing page 5/6
2025-07-03 14:07:36 [DBG] Starting OCR processing on image data of 8111565 bytes
2025-07-03 14:07:36 [INF] OCR completed successfully. Confidence: 0.71%, Text length: 40 characters
2025-07-03 14:07:36 [WRN] Low OCR confidence detected: 0.71%. Text quality may be poor
2025-07-03 14:07:36 [DBG] Processing page 6/6
2025-07-03 14:07:37 [DBG] Starting OCR processing on image data of 2165648 bytes
2025-07-03 14:07:38 [INF] OCR completed successfully. Confidence: 0.37%, Text length: 116 characters
2025-07-03 14:07:38 [WRN] Low OCR confidence detected: 0.37%. Text quality may be poor
2025-07-03 14:07:38 [INF] PDF processing completed. Successfully processed 6/6 pages
2025-07-03 14:07:38 [INF] Successfully extracted text from file '"6876.pdf"'.
2025-07-03 14:07:38 [INF] Executing "FileContentResult", sending file with download name '"6876_extracted_text.txt"' ...
2025-07-03 14:07:38 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-07-03 14:07:38 [INF] Executed action "ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)" in 32988.3634ms
2025-07-03 14:07:38 [INF] Executed endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 14:07:38 [DBG] Connection id ""0HNDQ3S7Q2EG5"" completed keep alive response.
2025-07-03 14:07:38 [DBG] Disposing OcrService and Tesseract engine
2025-07-03 14:07:38 [INF] Request finished "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Ocr/extractText""" - 200 7111 "text/plain" 33025.4508ms
2025-07-03 14:08:37 [DBG] Connection id ""0HNDQ3S7Q2EG4"" disconnecting.
2025-07-03 14:08:37 [DBG] Connection id ""0HNDQ3S7Q2EG6"" disconnecting.
2025-07-03 14:08:37 [DBG] Connection id ""0HNDQ3S7Q2EG4"" stopped.
2025-07-03 14:08:37 [DBG] Connection id ""0HNDQ3S7Q2EG6"" stopped.
2025-07-03 14:08:37 [DBG] Connection id ""0HNDQ3S7Q2EG4"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-07-03 14:08:37 [DBG] Connection id ""0HNDQ3S7Q2EG6"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-07-03 14:09:19 [INF] Application is shutting down...
2025-07-03 14:09:19 [DBG] Hosting stopping
2025-07-03 14:09:19 [DBG] Connection id ""0HNDQ3S7Q2EG5"" disconnecting.
2025-07-03 14:09:19 [DBG] Connection id ""0HNDQ3S7Q2EG5"" stopped.
2025-07-03 14:09:19 [DBG] Connection id ""0HNDQ3S7Q2EG5"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-07-03 14:09:19 [DBG] Hosting stopped
2025-07-03 14:09:32 [INF] Application starting up
2025-07-03 14:09:32 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-03 14:09:32 [DBG] Hosting starting
2025-07-03 14:09:32 [INF] Now listening on: "http://localhost:5190"
2025-07-03 14:09:32 [INF] Now listening on: "http://0.0.0.0:5190"
2025-07-03 14:09:32 [DBG] Loaded hosting startup assembly "DocumentProcessor.API"
2025-07-03 14:09:32 [INF] Application started. Press Ctrl+C to shut down.
2025-07-03 14:09:32 [INF] Hosting environment: "Development"
2025-07-03 14:09:32 [INF] Content root path: "C:\Users\czar\Documents\Stage\model\DocumentProcessor"
2025-07-03 14:09:32 [DBG] Hosting started
2025-07-03 14:09:42 [DBG] Connection id ""0HNDQ6BFVS1HJ"" accepted.
2025-07-03 14:09:42 [DBG] Connection id ""0HNDQ6BFVS1HJ"" started.
2025-07-03 14:09:42 [INF] Request starting "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Ocr/extractText""" - "multipart/form-data; boundary=----WebKitFormBoundaryxJJBC95Kd9A5xArT" 3650184
2025-07-03 14:09:42 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-03 14:09:42 [DBG] 1 candidate(s) found for the request path '"/api/Ocr/extractText"'
2025-07-03 14:09:42 [DBG] Endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"' with route pattern '"api/Ocr/extractText"' is valid for the request path '"/api/Ocr/extractText"'
2025-07-03 14:09:42 [DBG] Request matched endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 14:09:42 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-03 14:09:42 [WRN] Failed to determine the https port for redirect.
2025-07-03 14:09:42 [INF] Executing endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 14:09:42 [INF] Route matched with "{action = \"ExtractTextFromFile\", controller = \"Ocr\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExtractTextFromFile(Microsoft.AspNetCore.Http.IFormFile)" on controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API").
2025-07-03 14:09:42 [DBG] Execution plan of "authorization" filters (in the following order): ["None"]
2025-07-03 14:09:42 [DBG] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-03 14:09:42 [DBG] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-03 14:09:42 [DBG] Execution plan of "exception" filters (in the following order): ["None"]
2025-07-03 14:09:42 [DBG] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-03 14:09:42 [DBG] Executing controller factory for controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API")
2025-07-03 14:09:42 [INF] Initializing Tesseract engine with tessdata path: "C:\Users\czar\Documents\Stage\model\DocumentProcessor\bin\Debug\net8.0\tessdata" and model: "fra"
2025-07-03 14:09:42 [DBG] Connection id ""0HNDQ6BFVS1HJ"" paused.
2025-07-03 14:09:42 [INF] Tesseract engine initialized successfully
2025-07-03 14:09:42 [INF] AzureOcrService (Image Analysis SDK) initialized successfully.
2025-07-03 14:09:42 [DBG] Executed controller factory for controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API")
2025-07-03 14:09:42 [DBG] Connection id ""0HNDQ6BFVS1HJ"", Request id ""0HNDQ6BFVS1HJ:00000001"": started reading request body.
2025-07-03 14:09:42 [DBG] Connection id ""0HNDQ6BFVS1HJ"" resumed.
2025-07-03 14:09:43 [DBG] Connection id ""0HNDQ6BFVS1HJ"", Request id ""0HNDQ6BFVS1HJ:00000001"": done reading request body.
2025-07-03 14:09:43 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 14:09:43 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' using the name '"file"' in request data ...
2025-07-03 14:09:43 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 14:09:43 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 14:09:43 [DBG] Attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 14:09:43 [DBG] Done attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 14:09:43 [INF] Processing file '"6876.pdf"' using intelligent OCR selection.
2025-07-03 14:09:43 [DBG] Normalized file name: '"6876"' from original: '"6876.pdf"'
2025-07-03 14:09:43 [INF] Could not detect document type for file '"6876.pdf"', returning Unknown
2025-07-03 14:09:43 [INF] Detected document type: Unknown for file: "6876.pdf"
2025-07-03 14:09:43 [DBG] Document type Unknown requires Azure OCR: True
2025-07-03 14:09:43 [INF] Using "Azure OCR" for document type: Unknown
2025-07-03 14:09:43 [INF] Starting Azure OCR processing for file: "6876.pdf" (3649997 bytes)
2025-07-03 14:09:45 [ERR] An error occurred during Azure Image Analysis.
Azure.RequestFailedException: Image format is not valid.
Status: 400 (Bad Request)
ErrorCode: InvalidRequest

Content:
{"error":{"code":"InvalidRequest","message":"Image format is not valid.","innererror":{"code":"InvalidImageFormat","message":"Input data is not a valid image."}}}

Headers:
request-id: 84119b31-df8d-484f-a92c-8b31049389e6
x-ms-request-id: 84119b31-df8d-484f-a92c-8b31049389e6
x-ms-error-code: REDACTED
api-supported-versions: REDACTED
x-envoy-upstream-service-time: REDACTED
CSP-Billing-Usage: REDACTED
apim-request-id: REDACTED
Strict-Transport-Security: REDACTED
X-Content-Type-Options: REDACTED
x-ms-region: REDACTED
Date: Thu, 03 Jul 2025 13:09:46 GMT
Content-Length: 162
Content-Type: application/json; charset=utf-8

   at Azure.Core.HttpPipelineExtensions.ProcessMessageAsync(HttpPipeline pipeline, HttpMessage message, RequestContext requestContext, CancellationToken cancellationToken)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, RequestContent content, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, RequestContext context)
   at Azure.AI.Vision.ImageAnalysis.ImageAnalysisClient.AnalyzeFromImageDataAsync(IEnumerable`1 visualFeatures, BinaryData imageData, String language, Nullable`1 genderNeutralCaption, IEnumerable`1 smartCropsAspectRatios, String modelVersion, CancellationToken cancellationToken)
   at ImageOcrMicroservice.Services.AzureOcrService.ExtractTextAsync(Stream fileStream) in C:\Users\czar\Documents\Stage\model\DocumentProcessor\Services\AzureOcrService.cs:line 51
2025-07-03 14:09:45 [WRN] Azure OCR failed or returned no text for "6876.pdf". Falling back to Tesseract.
2025-07-03 14:09:45 [INF] Starting Tesseract OCR processing (3649997 bytes)
2025-07-03 14:09:45 [INF] Starting PDF OCR processing for 3649997 bytes
2025-07-03 14:09:56 [INF] PDF processed successfully. Processing 6 pages
2025-07-03 14:09:56 [DBG] Processing page 1/6
2025-07-03 14:09:57 [DBG] Starting OCR processing on image data of 4871940 bytes
2025-07-03 14:09:59 [INF] OCR completed successfully. Confidence: 0.82%, Text length: 1084 characters
2025-07-03 14:09:59 [WRN] Low OCR confidence detected: 0.82%. Text quality may be poor
2025-07-03 14:09:59 [DBG] Processing page 2/6
2025-07-03 14:10:01 [DBG] Starting OCR processing on image data of 5514733 bytes
2025-07-03 14:10:04 [INF] OCR completed successfully. Confidence: 0.71%, Text length: 2822 characters
2025-07-03 14:10:04 [WRN] Low OCR confidence detected: 0.71%. Text quality may be poor
2025-07-03 14:10:04 [DBG] Processing page 3/6
2025-07-03 14:10:05 [DBG] Starting OCR processing on image data of 3585188 bytes
2025-07-03 14:10:07 [INF] OCR completed successfully. Confidence: 0.90%, Text length: 1754 characters
2025-07-03 14:10:07 [WRN] Low OCR confidence detected: 0.90%. Text quality may be poor
2025-07-03 14:10:07 [DBG] Processing page 4/6
2025-07-03 14:10:10 [DBG] Starting OCR processing on image data of 6956401 bytes
2025-07-03 14:10:12 [INF] OCR completed successfully. Confidence: 0.57%, Text length: 984 characters
2025-07-03 14:10:12 [WRN] Low OCR confidence detected: 0.57%. Text quality may be poor
2025-07-03 14:10:12 [DBG] Processing page 5/6
2025-07-03 14:10:16 [DBG] Starting OCR processing on image data of 8111565 bytes
2025-07-03 14:10:16 [INF] OCR completed successfully. Confidence: 0.71%, Text length: 40 characters
2025-07-03 14:10:16 [WRN] Low OCR confidence detected: 0.71%. Text quality may be poor
2025-07-03 14:10:16 [DBG] Processing page 6/6
2025-07-03 14:10:17 [DBG] Starting OCR processing on image data of 2165648 bytes
2025-07-03 14:10:18 [INF] OCR completed successfully. Confidence: 0.37%, Text length: 116 characters
2025-07-03 14:10:18 [WRN] Low OCR confidence detected: 0.37%. Text quality may be poor
2025-07-03 14:10:18 [INF] PDF processing completed. Successfully processed 6/6 pages
2025-07-03 14:10:18 [INF] Successfully extracted text from file '"6876.pdf"'.
2025-07-03 14:10:18 [INF] Executing "FileContentResult", sending file with download name '"6876_extracted_text.txt"' ...
2025-07-03 14:10:18 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-07-03 14:10:18 [INF] Executed action "ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)" in 35929.1559ms
2025-07-03 14:10:18 [INF] Executed endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 14:10:18 [DBG] Connection id ""0HNDQ6BFVS1HJ"" completed keep alive response.
2025-07-03 14:10:18 [DBG] Disposing OcrService and Tesseract engine
2025-07-03 14:10:18 [INF] Request finished "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Ocr/extractText""" - 200 7111 "text/plain" 36020.3834ms
2025-07-03 14:12:29 [DBG] Connection id ""0HNDQ6BFVS1HJ"" disconnecting.
2025-07-03 14:12:29 [DBG] Connection id ""0HNDQ6BFVS1HJ"" stopped.
2025-07-03 14:12:29 [DBG] Connection id ""0HNDQ6BFVS1HJ"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-07-03 14:32:06 [INF] Application is shutting down...
2025-07-03 14:32:06 [DBG] Hosting stopping
2025-07-03 14:32:06 [DBG] Hosting stopped
2025-07-03 14:32:12 [INF] Application starting up
2025-07-03 14:32:12 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-03 14:32:12 [DBG] Hosting starting
2025-07-03 14:32:12 [INF] Now listening on: "http://localhost:5190"
2025-07-03 14:32:12 [INF] Now listening on: "http://0.0.0.0:5190"
2025-07-03 14:32:12 [DBG] Loaded hosting startup assembly "DocumentProcessor.API"
2025-07-03 14:32:12 [INF] Application started. Press Ctrl+C to shut down.
2025-07-03 14:32:12 [INF] Hosting environment: "Development"
2025-07-03 14:32:12 [INF] Content root path: "C:\Users\czar\Documents\Stage\model\DocumentProcessor"
2025-07-03 14:32:12 [DBG] Hosting started
2025-07-03 14:32:16 [DBG] Connection id ""0HNDQ6O3G09NG"" accepted.
2025-07-03 14:32:16 [DBG] Connection id ""0HNDQ6O3G09NG"" started.
2025-07-03 14:32:16 [INF] Request starting "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Ocr/extractText""" - "multipart/form-data; boundary=----WebKitFormBoundary6r2WsRh1SnzBLPDl" 3650184
2025-07-03 14:32:16 [DBG] Connection id ""0HNDQ6O3G09NG"" paused.
2025-07-03 14:32:16 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-03 14:32:16 [DBG] 1 candidate(s) found for the request path '"/api/Ocr/extractText"'
2025-07-03 14:32:16 [DBG] Endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"' with route pattern '"api/Ocr/extractText"' is valid for the request path '"/api/Ocr/extractText"'
2025-07-03 14:32:16 [DBG] Request matched endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 14:32:16 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-03 14:32:16 [WRN] Failed to determine the https port for redirect.
2025-07-03 14:32:16 [INF] Executing endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 14:32:16 [INF] Route matched with "{action = \"ExtractTextFromFile\", controller = \"Ocr\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExtractTextFromFile(Microsoft.AspNetCore.Http.IFormFile)" on controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API").
2025-07-03 14:32:16 [DBG] Execution plan of "authorization" filters (in the following order): ["None"]
2025-07-03 14:32:16 [DBG] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-03 14:32:16 [DBG] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-03 14:32:16 [DBG] Execution plan of "exception" filters (in the following order): ["None"]
2025-07-03 14:32:16 [DBG] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-03 14:32:16 [DBG] Executing controller factory for controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API")
2025-07-03 14:32:16 [INF] Initializing Tesseract engine with tessdata path: "C:\Users\czar\Documents\Stage\model\DocumentProcessor\bin\Debug\net8.0\tessdata" and model: "fra"
2025-07-03 14:32:16 [INF] Tesseract engine initialized successfully
2025-07-03 14:32:16 [INF] AzureOcrService (Image Analysis SDK) initialized successfully.
2025-07-03 14:32:16 [DBG] Executed controller factory for controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API")
2025-07-03 14:32:16 [DBG] Connection id ""0HNDQ6O3G09NG"", Request id ""0HNDQ6O3G09NG:00000001"": started reading request body.
2025-07-03 14:32:16 [DBG] Connection id ""0HNDQ6O3G09NG"" resumed.
2025-07-03 14:32:16 [DBG] Connection id ""0HNDQ6O3G09NG"", Request id ""0HNDQ6O3G09NG:00000001"": done reading request body.
2025-07-03 14:32:16 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 14:32:16 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' using the name '"file"' in request data ...
2025-07-03 14:32:16 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 14:32:16 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 14:32:16 [DBG] Attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 14:32:16 [DBG] Done attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 14:32:16 [INF] Processing file '"6876.pdf"' using intelligent OCR selection.
2025-07-03 14:32:16 [DBG] Normalized file name: '"6876"' from original: '"6876.pdf"'
2025-07-03 14:32:16 [INF] Could not detect document type for file '"6876.pdf"', returning Unknown
2025-07-03 14:32:16 [INF] Detected document type: Unknown for file: "6876.pdf"
2025-07-03 14:32:16 [DBG] Document type Unknown requires Azure OCR: True
2025-07-03 14:32:16 [INF] Using "Azure OCR" for document type: Unknown
2025-07-03 14:32:16 [INF] Starting Azure OCR processing for file: "6876.pdf" (3649997 bytes)
2025-07-03 14:32:16 [INF] Processing file with ImageMagick to handle PDF conversion if necessary.
2025-07-03 14:32:27 [INF] File processed by ImageMagick. Found 6 page(s) to analyze with Azure.
2025-07-03 14:32:27 [DBG] Analyzing page 1 with Azure AI Vision.
2025-07-03 14:32:33 [DBG] Analyzing page 2 with Azure AI Vision.
2025-07-03 14:32:37 [DBG] Analyzing page 3 with Azure AI Vision.
2025-07-03 14:32:40 [DBG] Analyzing page 4 with Azure AI Vision.
2025-07-03 14:32:44 [DBG] Analyzing page 5 with Azure AI Vision.
2025-07-03 14:32:51 [DBG] Analyzing page 6 with Azure AI Vision.
2025-07-03 14:32:53 [INF] Azure OCR completed successfully for "6876.pdf". Text length: 7398 characters
2025-07-03 14:32:53 [INF] Successfully extracted text from file '"6876.pdf"'.
2025-07-03 14:32:53 [INF] Executing "FileContentResult", sending file with download name '"6876_extracted_text.txt"' ...
2025-07-03 14:32:53 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-07-03 14:32:53 [INF] Executed action "ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)" in 37094.462ms
2025-07-03 14:32:53 [INF] Executed endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 14:32:53 [DBG] Connection id ""0HNDQ6O3G09NG"" completed keep alive response.
2025-07-03 14:32:53 [DBG] Disposing OcrService and Tesseract engine
2025-07-03 14:32:53 [INF] Request finished "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Ocr/extractText""" - 200 7543 "text/plain" 37183.0018ms
2025-07-03 14:35:04 [DBG] Connection id ""0HNDQ6O3G09NG"" disconnecting.
2025-07-03 14:35:04 [DBG] Connection id ""0HNDQ6O3G09NG"" stopped.
2025-07-03 14:35:04 [DBG] Connection id ""0HNDQ6O3G09NG"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
2025-07-03 14:38:19 [INF] Application is shutting down...
2025-07-03 14:38:19 [DBG] Hosting stopping
2025-07-03 14:38:19 [DBG] Hosting stopped
2025-07-03 14:38:22 [INF] Application starting up
2025-07-03 14:38:23 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider", "Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-07-03 14:38:23 [DBG] Hosting starting
2025-07-03 14:38:23 [INF] Now listening on: "http://localhost:5190"
2025-07-03 14:38:23 [INF] Now listening on: "http://0.0.0.0:5190"
2025-07-03 14:38:23 [DBG] Loaded hosting startup assembly "DocumentProcessor.API"
2025-07-03 14:38:23 [INF] Application started. Press Ctrl+C to shut down.
2025-07-03 14:38:23 [INF] Hosting environment: "Development"
2025-07-03 14:38:23 [INF] Content root path: "C:\Users\czar\Documents\Stage\model\DocumentProcessor"
2025-07-03 14:38:23 [DBG] Hosting started
2025-07-03 14:39:50 [DBG] Connection id ""0HNDQ6SASM0L2"" accepted.
2025-07-03 14:39:50 [DBG] Connection id ""0HNDQ6SASM0L2"" started.
2025-07-03 14:39:50 [DBG] Connection id ""0HNDQ6SASM0L2"" paused.
2025-07-03 14:39:50 [INF] Request starting "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Ocr/extractText""" - "multipart/form-data; boundary=----WebKitFormBoundaryAdBtC5wC20BIMJVY" 3650184
2025-07-03 14:39:50 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-07-03 14:39:50 [DBG] 1 candidate(s) found for the request path '"/api/Ocr/extractText"'
2025-07-03 14:39:50 [DBG] Endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"' with route pattern '"api/Ocr/extractText"' is valid for the request path '"/api/Ocr/extractText"'
2025-07-03 14:39:50 [DBG] Request matched endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 14:39:50 [DBG] Static files was skipped as the request already matched an endpoint.
2025-07-03 14:39:50 [WRN] Failed to determine the https port for redirect.
2025-07-03 14:39:50 [INF] Executing endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 14:39:50 [INF] Route matched with "{action = \"ExtractTextFromFile\", controller = \"Ocr\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ExtractTextFromFile(Microsoft.AspNetCore.Http.IFormFile)" on controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API").
2025-07-03 14:39:50 [DBG] Execution plan of "authorization" filters (in the following order): ["None"]
2025-07-03 14:39:50 [DBG] Execution plan of "resource" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ConsumesAttribute"]
2025-07-03 14:39:50 [DBG] Execution plan of "action" filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)", "Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-07-03 14:39:50 [DBG] Execution plan of "exception" filters (in the following order): ["None"]
2025-07-03 14:39:50 [DBG] Execution plan of "result" filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-07-03 14:39:50 [DBG] Executing controller factory for controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API")
2025-07-03 14:39:50 [INF] Initializing Tesseract engine with tessdata path: "C:\Users\czar\Documents\Stage\model\DocumentProcessor\bin\Debug\net8.0\tessdata" and model: "fra"
2025-07-03 14:39:50 [INF] Tesseract engine initialized successfully
2025-07-03 14:39:50 [INF] AzureOcrService (Image Analysis SDK) initialized successfully.
2025-07-03 14:39:50 [DBG] Executed controller factory for controller "ImageOcrMicroservice.Controllers.OcrController" ("DocumentProcessor.API")
2025-07-03 14:39:51 [DBG] Connection id ""0HNDQ6SASM0L2"", Request id ""0HNDQ6SASM0L2:00000001"": started reading request body.
2025-07-03 14:39:51 [DBG] Connection id ""0HNDQ6SASM0L2"" resumed.
2025-07-03 14:39:51 [DBG] Connection id ""0HNDQ6SASM0L2"", Request id ""0HNDQ6SASM0L2:00000001"": done reading request body.
2025-07-03 14:39:51 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 14:39:51 [DBG] Attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' using the name '"file"' in request data ...
2025-07-03 14:39:51 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 14:39:51 [DBG] Done attempting to bind parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 14:39:51 [DBG] Attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"' ...
2025-07-03 14:39:51 [DBG] Done attempting to validate the bound parameter '"file"' of type '"Microsoft.AspNetCore.Http.IFormFile"'.
2025-07-03 14:39:51 [INF] Processing file '"6876.pdf"' using intelligent OCR selection.
2025-07-03 14:39:51 [DBG] Normalized file name: '"6876"' from original: '"6876.pdf"'
2025-07-03 14:39:51 [INF] Could not detect document type for file '"6876.pdf"', returning Unknown
2025-07-03 14:39:51 [INF] Detected document type: Unknown for file: "6876.pdf"
2025-07-03 14:39:51 [DBG] Document type Unknown requires Azure OCR: True
2025-07-03 14:39:51 [INF] Using "Azure OCR" for document type: Unknown
2025-07-03 14:39:51 [INF] Starting Azure OCR processing for file: "6876.pdf" (3649997 bytes)
2025-07-03 14:39:51 [INF] Processing file with ImageMagick to handle PDF conversion if necessary.
2025-07-03 14:40:00 [INF] File processed by ImageMagick. Found 6 page(s) to analyze with Azure.
2025-07-03 14:40:00 [DBG] Analyzing page 1 with Azure AI Vision.
2025-07-03 14:40:06 [DBG] Analyzing page 2 with Azure AI Vision.
2025-07-03 14:40:10 [DBG] Analyzing page 3 with Azure AI Vision.
2025-07-03 14:40:13 [DBG] Analyzing page 4 with Azure AI Vision.
2025-07-03 14:40:18 [DBG] Analyzing page 5 with Azure AI Vision.
2025-07-03 14:40:25 [DBG] Analyzing page 6 with Azure AI Vision.
2025-07-03 14:40:27 [INF] Azure OCR completed successfully for "6876.pdf". Text length: 7470 characters
2025-07-03 14:40:27 [INF] Successfully extracted text from file '"6876.pdf"'.
2025-07-03 14:40:27 [INF] Executing "FileContentResult", sending file with download name '"6876_extracted_text.txt"' ...
2025-07-03 14:40:27 [DBG] The file result has not been enabled for processing range requests. To enable it, set the EnableRangeProcessing property on the result to 'true'.
2025-07-03 14:40:27 [INF] Executed action "ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)" in 36817.895ms
2025-07-03 14:40:27 [INF] Executed endpoint '"ImageOcrMicroservice.Controllers.OcrController.ExtractTextFromFile (DocumentProcessor.API)"'
2025-07-03 14:40:27 [DBG] Connection id ""0HNDQ6SASM0L2"" completed keep alive response.
2025-07-03 14:40:27 [DBG] Disposing OcrService and Tesseract engine
2025-07-03 14:40:27 [INF] Request finished "HTTP/1.1" "POST" "http"://"172.16.16.86:5190""""/api/Ocr/extractText""" - 200 7615 "text/plain" 36894.0791ms
2025-07-03 14:42:38 [DBG] Connection id ""0HNDQ6SASM0L2"" disconnecting.
2025-07-03 14:42:38 [DBG] Connection id ""0HNDQ6SASM0L2"" stopped.
2025-07-03 14:42:38 [DBG] Connection id ""0HNDQ6SASM0L2"" sending FIN because: ""The Socket transport's send loop completed gracefully.""
